function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Result-BpTVsEag.js","assets/index-DVrpiJ_h.js","assets/Stack-CEmVdncV.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as f,g as L,a as O,s as y,d as b,b as U,O as K,_ as F,j as c,e as Z,Q as C,S as z,f as H,H as S,C as A,U as J,P as M,V as X,J as q}from"./index-DVrpiJ_h.js";import{u as Y}from"./useTheme-Cpr0Mi1V.js";const ee=f.createContext(),T=ee;function te(e){return L("MuiGrid",e)}const re=[0,1,2,3,4,5,6,7,8,9,10],se=["column-reverse","column","row-reverse","row"],ne=["nowrap","wrap-reverse","wrap"],v=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],$=O("MuiGrid",["root","container","item","zeroMinWidth",...re.map(e=>`spacing-xs-${e}`),...se.map(e=>`direction-xs-${e}`),...ne.map(e=>`wrap-xs-${e}`),...v.map(e=>`grid-xs-${e}`),...v.map(e=>`grid-sm-${e}`),...v.map(e=>`grid-md-${e}`),...v.map(e=>`grid-lg-${e}`),...v.map(e=>`grid-xl-${e}`)]),oe=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function w(e){const r=parseFloat(e);return`${r}${String(e).replace(String(r),"")||"px"}`}function ie({theme:e,ownerState:r}){let s;return e.breakpoints.keys.reduce((n,t)=>{let i={};if(r[t]&&(s=r[t]),!s)return n;if(s===!0)i={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(s==="auto")i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const d=C({values:r.columns,breakpoints:e.breakpoints.values}),m=typeof d=="object"?d[t]:d;if(m==null)return n;const u=`${Math.round(s/m*1e8)/1e6}%`;let l={};if(r.container&&r.item&&r.columnSpacing!==0){const o=e.spacing(r.columnSpacing);if(o!=="0px"){const x=`calc(${u} + ${w(o)})`;l={flexBasis:x,maxWidth:x}}}i=b({flexBasis:u,flexGrow:0,maxWidth:u},l)}return e.breakpoints.values[t]===0?Object.assign(n,i):n[e.breakpoints.up(t)]=i,n},{})}function ae({theme:e,ownerState:r}){const s=C({values:r.direction,breakpoints:e.breakpoints.values});return z({theme:e},s,n=>{const t={flexDirection:n};return n.indexOf("column")===0&&(t[`& > .${$.item}`]={maxWidth:"none"}),t})}function B({breakpoints:e,values:r}){let s="";Object.keys(r).forEach(t=>{s===""&&r[t]!==0&&(s=t)});const n=Object.keys(e).sort((t,i)=>e[t]-e[i]);return n.slice(0,n.indexOf(s))}function ce({theme:e,ownerState:r}){const{container:s,rowSpacing:n}=r;let t={};if(s&&n!==0){const i=C({values:n,breakpoints:e.breakpoints.values});let d;typeof i=="object"&&(d=B({breakpoints:e.breakpoints.values,values:i})),t=z({theme:e},i,(m,u)=>{var l;const o=e.spacing(m);return o!=="0px"?{marginTop:`-${w(o)}`,[`& > .${$.item}`]:{paddingTop:w(o)}}:(l=d)!=null&&l.includes(u)?{}:{marginTop:0,[`& > .${$.item}`]:{paddingTop:0}}})}return t}function ue({theme:e,ownerState:r}){const{container:s,columnSpacing:n}=r;let t={};if(s&&n!==0){const i=C({values:n,breakpoints:e.breakpoints.values});let d;typeof i=="object"&&(d=B({breakpoints:e.breakpoints.values,values:i})),t=z({theme:e},i,(m,u)=>{var l;const o=e.spacing(m);return o!=="0px"?{width:`calc(100% + ${w(o)})`,marginLeft:`-${w(o)}`,[`& > .${$.item}`]:{paddingLeft:w(o)}}:(l=d)!=null&&l.includes(u)?{}:{width:"100%",marginLeft:0,[`& > .${$.item}`]:{paddingLeft:0}}})}return t}function le(e,r,s={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[s[`spacing-xs-${String(e)}`]];const n=[];return r.forEach(t=>{const i=e[t];Number(i)>0&&n.push(s[`spacing-${t}-${String(i)}`])}),n}const de=y("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:s}=e,{container:n,direction:t,item:i,spacing:d,wrap:m,zeroMinWidth:u,breakpoints:l}=s;let o=[];n&&(o=le(d,l,r));const x=[];return l.forEach(g=>{const p=s[g];p&&x.push(r[`grid-${g}-${String(p)}`])}),[r.root,n&&r.container,i&&r.item,u&&r.zeroMinWidth,...o,t!=="row"&&r[`direction-xs-${String(t)}`],m!=="wrap"&&r[`wrap-xs-${String(m)}`],...x]}})(({ownerState:e})=>b({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),ae,ce,ue,ie);function pe(e,r){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const s=[];return r.forEach(n=>{const t=e[n];if(Number(t)>0){const i=`spacing-${n}-${String(t)}`;s.push(i)}}),s}const fe=e=>{const{classes:r,container:s,direction:n,item:t,spacing:i,wrap:d,zeroMinWidth:m,breakpoints:u}=e;let l=[];s&&(l=pe(i,u));const o=[];u.forEach(g=>{const p=e[g];p&&o.push(`grid-${g}-${String(p)}`)});const x={root:["root",s&&"container",t&&"item",m&&"zeroMinWidth",...l,n!=="row"&&`direction-xs-${String(n)}`,d!=="wrap"&&`wrap-xs-${String(d)}`,...o]};return H(x,te,r)},me=f.forwardRef(function(r,s){const n=U({props:r,name:"MuiGrid"}),{breakpoints:t}=Y(),i=K(n),{className:d,columns:m,columnSpacing:u,component:l="div",container:o=!1,direction:x="row",item:g=!1,rowSpacing:p,spacing:a=0,wrap:h="wrap",zeroMinWidth:k=!1}=i,E=F(i,oe),Q=p||a,_=u||a,V=f.useContext(T),W=o?m||12:V,G={},I=b({},E);t.keys.forEach(j=>{E[j]!=null&&(G[j]=E[j],delete I[j])});const N=b({},i,{columns:W,container:o,direction:x,item:g,rowSpacing:Q,columnSpacing:_,wrap:h,zeroMinWidth:k,spacing:a},G,{breakpoints:t.keys}),D=fe(N);return c.jsx(T.Provider,{value:W,children:c.jsx(de,b({ownerState:N,className:Z(D.root,d),as:l,ref:s},I))})}),P=me,xe=y(S)(()=>({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)","& > span":{fontSize:"23px"}})),ge=y(S)(()=>({cursor:"pointer",border:"1px solid black",borderRadius:"5px",transition:"background-color 0.3s","&:hover":{backgroundColor:"#4d80fdad"},"&.Ul-complete":{backgroundColor:"#4d80fdad !important"}})),R=e=>e.toString().padStart(2,"0"),he=({allQuestion:e,complete:r,isEnd:s,setElapsedTime:n})=>{const[t,i]=f.useState(120),[d,m]=f.useState(!0),u=R(Math.floor(t/60)),l=R(t-Number(u)*60),o=f.useRef(null),[x,g]=f.useState(0);f.useEffect(()=>{s&&m(!1)},[s]),f.useEffect(()=>{if(o.current){o.current.style.transformOrigin="center",o.current.style.transform="rotate(-90deg)",o.current.style.transition="stroke-dashoffset 0.3s";const a=Number(o.current.getAttribute("r"));g(2*Math.PI*a)}},[]),f.useEffect(()=>{o.current&&(o.current.style.strokeDasharray=`${x} ${x}`,o.current.style.strokeDashoffset=x.toString())},[x]);const p=a=>{const h=x-a/100*x;o.current&&(o.current.style.strokeDashoffset=(h*-1).toString())};return f.useEffect(()=>{p(t/120*100)},[t]),f.useEffect(()=>{const a=setInterval(()=>{d&&i(h=>{const k=h>=1?h-1:0;return n(120-k),k})},1e3);return()=>{clearInterval(a)}},[d]),c.jsxs(S,{sx:{backgroundColor:"#fff",borderRadius:"10px",borderTopLeftRadius:"0",borderTopRightRadius:"0",width:"200px",textAlign:"center",padding:"8px"},children:[c.jsxs(S,{position:"relative",display:"flex",justifyContent:"center",children:[c.jsxs(xe,{children:[c.jsx("span",{children:u})," : ",c.jsx("span",{children:l})]}),c.jsxs("svg",{width:"120px",height:"120px",children:[c.jsxs("linearGradient",{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[c.jsx("stop",{offset:"0%",stopColor:"#2ed8a7"}),c.jsx("stop",{offset:"100%",stopColor:"#a6ceff"})]}),c.jsx("circle",{ref:o,stroke:"url(#linear)",strokeWidth:"4",cx:"60",cy:"60",r:"52",fill:"none"})]})]}),c.jsxs(A,{variant:"h5",children:[r," / ",e]}),c.jsx(P,{container:!0,spacing:2,children:Array.from({length:e},(a,h)=>c.jsx(P,{item:!0,md:3,children:c.jsx(ge,{className:r<=h?"":"Ul-complete",children:h+1})},h))})]})},Se=f.lazy(()=>J(()=>import("./Result-BpTVsEag.js"),__vite__mapDeps([0,1,2]))),we=y(M)(({theme:e})=>({cursor:"pointer",padding:"10px",marginBottom:"10px",maxWidth:"max-content",minWidth:"100px",transition:".3s","&:hover":{backgroundColor:e.palette.secondary.main,transform:"scale(1.1)"}})),$e=()=>{const{quizID:e}=X(),{data:r}=q(),[s,n]=f.useState(null),[t,i]=f.useState(null),[d,m]=f.useState(0),[u,l]=f.useState({isEnd:!1,currentQuestionIndex:0,correctAnswered:0,answeredQuestions:0,userAnswers:[]});f.useEffect(()=>{if(r&&e){const p=r.filter(a=>a.title.toLowerCase()===e.toLowerCase());i(p[0].data)}},[r]),f.useEffect(()=>{t&&t.length>0&&n(t[u.currentQuestionIndex])},[u.currentQuestionIndex,t]);const o=p=>{r&&t&&t.length>0&&(u.currentQuestionIndex===t.length-1?l(a=>({...a,isEnd:!0})):l(a=>({...a,currentQuestionIndex:a.currentQuestionIndex+1}))),p===(s==null?void 0:s.correctAnswer)&&l(a=>({...a,correctAnswered:a.correctAnswered+1})),l(a=>({...a,answeredQuestions:a.answeredQuestions+1})),l(a=>({...a,userAnswers:[...a.userAnswers,p]}))},x=p=>{const a=Math.floor(p/60),h=p%60;return`${g(a)}:${g(h)}`},g=p=>p.toString().padStart(2,"0");return!r||!t?null:c.jsxs(M,{elevation:3,sx:{padding:"20px",display:"flex",columnGap:"15px",position:"relative"},children:[c.jsx(S,{children:u.isEnd?c.jsx(f.Suspense,{fallback:c.jsx(c.Fragment,{}),children:c.jsx(Se,{correctAnswers:u.correctAnswered,allQuestions:t.length,data:t,userAnswers:u.userAnswers})}):c.jsxs(c.Fragment,{children:[s&&s.title&&c.jsxs(A,{variant:"h4",children:[s.id+1+")"," ",s.title]}),s&&s.variants&&s.variants.map((p,a)=>c.jsxs(we,{onClick:()=>o(a),children:[a+1+")"," ",p]},a))]})}),u.isEnd?c.jsx(S,{sx:{height:"auto"},children:c.jsxs(S,{sx:{fontSize:"28px",position:"sticky",top:"0"},children:["Elapsed time: ",x(d)]})}):c.jsx(S,{sx:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)"},children:c.jsx(he,{allQuestion:t.length,complete:u.answeredQuestions,isEnd:u.isEnd,setElapsedTime:m})})]})};export{$e as default};
